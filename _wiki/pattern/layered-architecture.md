---
layout  : wiki
title   : 계층형 아키텍처 (Layered Architecture)
summary : 
date    : 2021-10-12 21:27:41 +0900
updated : 2021-10-12 21:56:44 +0900
tag     : ddd architecture
toc     : true
public  : true
parent  : [[/pattern]]
latex   : false
---
* TOC
{:toc}

## From: 도메인 주도 설계

에릭 에반스는 다음과 같이 계층화의 장점을 이야기한다.

>
계층화의 가치는 각 계층에서 컴퓨터 프로그램의 특정 측면만을 전문적으로 다룬다는 데 있다.
이러한 전문화를 토대로 각 측면에서는 더욱 응집력 있는 설계가 가능해지며, 이로써 설계를 훨씬 더 쉽게 이해할 수 있다.
물론 가장 중요한 응집력 있는 설계 측면을 격리하는 계층을 선택하는 것도 매우 중요하다.
[^evans-71]

이러한 계층화는 관례적으로 받아들여지고 있는 유명한 구조가 이미 존재한다.

>
거듭 말하지만 경험과 관례를 바탕으로 널리 받아들여지는 계층화가 어느 정도 정해졌다.
이러한 계층화는 다양한 모습으로 나타나지만 대다수의 성공적인 아키텍처에서는 아래의 네 가지 개념적 계층으로 나뉜다.
>
> <div id="table1"></div>
>
>
> - td
>     - 사용자 인터페이스 (또는 표현 계층)
>     - 사용자에게 정보를 보여주고 사용자의 명령을 해석하는 일을 책임진다. 간혹 사람이 아닌 다른 컴퓨터 시스템이 외부 행위자가 되기도 한다.
> - td
>     - 응용 계층
>     - 소프트웨어가 수행할 작업을 정의하고 표현력 있는 도메인 객체가 문제를 해결하게 한다.
>       이 계층에서 책임지는 작업은 업무상 중요하거나 다른 시스템의 응용 계층과 상호작용하는 데 필요한 것들이다.<br/>
>       이 계층은 얇게 유지된다.
>       여기에는 업무 규칙이나 지식이 포함되지 않으며, 오직 작업을 조정하고 아래에 위치한 계층에 포함된 도메인 객체의 협력자에게 작업을 위임 한다.
>       응용 계층에서는 업무 상황을 반영하는 상태가 없지만 사용자나 프로그램의 작업에 대한 진행상황을 반영하는 상태를 가질 수는 있다.
> - td
>     - 도메인 계층 (또는 모델 계층)
>     - 업무 개념과 업무 상황에 관한 정보, 업무 규칙을 표현하는 일을 책임진다.
>       이 계층에 서는 업무 상황을 반영하는 상태를 제어하고 사용하며, 그와 같은 상태 저장과 관련 된 기술적인 세부사항은 인프라스트럭처에 위임한다.
>       이 계층은 업무용 소프트웨어의 핵심이다.
> - td
>     - 인프라스트럭처 계층
>     - 상위 계층을 지원하는 일반화된 기술적 기능을 제공한다.
>       이러한 기능에는 애플리케 이션에 대한 메시지 전송, 도메인 영속화, UI에 위젯을 그리는 것 등이 있다.
>       또한 인프라스트럭처 계층은 아키텍처 프레임워크를 통해 네 가지 계층에 대한 상호작용 패턴을 지원할 수도 있다.
> {:class="table-generate" data-target-id="table1"}
>
>
어떤 프로젝트에서는 사용자 인터페이스와 애플리케이션 계층을 명확히 구분하지 않기도 하며,
여러 개의 인프라스트럭처 계층이 존재하는 프로젝트도 있다.
하지만 MODEL-DRIVEN DESIGN을 가능케 하는 것은 결정적으로 도메인 계층을 분리하는 데 있다.
>
그러므로
>
복잡한 프로그램을 여러 개의 계층으로 나눠라.
응집력 있고 오직 아래에 위치한 계층에만 의존하는 각 계층에서 설계를 발전시켜라.
표준 아키텍처 패턴에 따라 상위 계층과의 결합을 느슨하게 유지하라.
도메인 모델과 관련된 코드는 모두 한 계층에 모으고 사용자 인터페이스 코드나 애플리케이션 코드, 인프라스트럭처 코드와 격리하라.
도메인 객체(표현이나 저장, 애플리케이 션 작업을 관리하는 등의 책임에서 자유로운)는 도메인 모델을 표현하는 것에만 집중할 수 있다.
이로써 모델은 진화를 거듭해 본질적인 업무 지식을 포착해서 해당 업무 지식이 효과를 발휘할 수 있을 만큼 풍부하고 명확해질 것이다.
[^evans-71]

## 참고문헌

- 도메인 주도 설계 / 에릭 에반스 저 / 이대엽 역 / 위키북스 / 2011년 07월 21일 / 원제 : Domain-Driven Design

## 주석

[^evans-71]: 도메인 주도 설계. 4장. 71쪽.

