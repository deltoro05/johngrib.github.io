---
layout  : wiki
title   : macOS 초보를 위한 터미널 사용 가이드 - Week 05
summary : 작성중인 문서
date    : 2024-01-28 17:11:27 +0900
updated : 2024-01-29 23:30:59 +0900
tag     : 
resource: C4/932849-9A11-48D8-95A6-E3CB578ADD61
toc     : true
public  : true
parent  : [[/mac/terminal-guide]]
latex   : false
---
* TOC
{:toc}

- 이전 문서: [[/mac/terminal-guide/04]]
- 다음 문서: /mac/terminal-guide/06

## BASH 프롬프트 커스터마이징

>
이번 섹션은 [[/cmd/bash]] 사용자를 위한 것입니다. [[/cmd/zsh]] 사용자는 건너뛰어도 됩니다.
{:style="background-color: #ecf1e8;"}

이번에는 프롬프트를 커스터마이징해보죠.

먼저 내가 어느 셸을 사용하고 있는지 확인해 봅시다.

```
echo $0
```

[[/cmd/zsh]]을 사용하고 있다면 다음과 같이 나올 겁니다.

```
$ echo $0
zsh
```

[[/cmd/bash]]를 사용하고 있다면 이렇게 나올 거고요.

```
$ echo $0
bash
```

이 섹션은 [[/cmd/bash]] 셸 사용자의 프롬프트 커스터마이즈를 다룹니다.
[[/cmd/zsh]] 사용자는 이 섹션을 건너뛰어도 됩니다.

그러나 [[/cmd/zsh]]를 사용하고 있더라도 이 섹션을 따라해보고 싶다면 다음과 같이 [[/cmd/bash]] 서브셸을 실행한 다음 진행하면 됩니다.

```
bash
```

### PS1

[[/cmd/bash]]는 많은 (환경) 변수들을 갖고 있는데 `PS1`은 우리가 터미널을 사용하며 많이 보게 되는 프롬프트와 관련된 변수입니다.

시험삼아 나의 `PS1`이 어떻게 설정되어 있는지 확인해 보도록 합시다.

```
echo $PS1
```

저는 평소 사용하던 프롬프트를 이 가이드를 작성하기 위해 잠시 디폴트 설정으로 바꿔놓은 상태입니다.
그래서 다음과 같이 나왔습니다.

```
JohnGrib-Macmini:dotfiles johngrib$ echo $PS1
\h:\W \u$
```

출력된 내용은 다음을 의미합니다.

- `\h`: 호스트 이름 (여기서는 `JohnGrib-Macmini`)
- `:`: 구분 기호로 집어넣어준 것
- `\W`: 작업 디렉토리 이름 (여기서는 `dotfiles`)
- `\u`: 로그인한 사용자 이름 (여기서는 `johngrib`)
- `$`: 프롬프트 종결 기호로 집어넣어준 것

이 `PS1` 변수를 변경해주면 프롬프트가 바뀌게 되어 있습니다.

다음 명령을 입력하면 `PS1` 변수를 변경할 수 있습니다.

```
PS1="hello prompt $"
```

명령을 입력하고 나면 바로 다음 줄부터 프롬프트가 `hello prompt $`로 바뀌게 됩니다.

```
JohnGrib-Macmini:dotfiles johngrib$ PS1="hello prompt $"
hello prompt $
```

이번에는 프롬프트에 오늘 날짜와 시간이 나오도록 해봅시다.
[[/cmd/date]]를 사용해 보도록 하죠.

```
date '+%Y-%m-%d-%a %T'
```

```
hello prompt $date '+%Y-%m-%d-%a'
2024-01-29-Mon 23:25:24
```

년월일, 요일과 시간까지 잘 나오네요.

이 명령을 다음과 같이 `PS1`에 넣어주면 프롬프트에 오늘 날짜가 나오게 됩니다.

```
PS1="\$(date '+%Y-%m-%d-%a %T') $"
```

```
hello prompt $PS1="\$(date '+%Y-%m-%d-%a %T') $"
2024-01-29-Mon 23:26:30 $
2024-01-29-Mon 23:26:32 $
2024-01-29-Mon 23:26:33 $
2024-01-29-Mon 23:26:33 $
```

`PS1`에 날짜를 넣어고 여러번 엔터를 입력한 결과입니다.
시간이 흐르는 것을 프롬프트를 통해 알 수 있게 되었습니다.

프롬프트에 시계가 있으면 시간이 오래 걸린 이전 명령이 언제 끝났는지를 프롬프트를 통해 알 수 있다는 장점도 있습니다.

다음은 `sleep` 명령을 써서 일부러 5초간 기다리도록 해 본 것입니다.

```
2024-01-29-Mon 23:29:47 $sleep 5
2024-01-29-Mon 23:29:53 $
```

명령이 끝난 이후 곧바로 다음 프롬프트가 출력되므로, 명령이 끝난 시간이 `23:29:53`이라는 것을 알 수 있습니다.

작성중입니다....

